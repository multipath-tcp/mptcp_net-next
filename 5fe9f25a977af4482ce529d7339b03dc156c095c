{
  "comments": [
    {
      "key": {
        "uuid": "aa203448_716f0b84",
        "filename": "include/linux/tcp.h",
        "patchSetId": 8
      },
      "lineNbr": 126,
      "author": {
        "id": 1015295
      },
      "writtenOn": "2019-02-28T12:44:44Z",
      "side": 1,
      "message": "do we need a:\n\n  #if IS_ENABLED(CONFIG_MPTCP)\n\nhere?",
      "revId": "5fe9f25a977af4482ce529d7339b03dc156c095c",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "82f12a89_84d28ae5",
        "filename": "include/linux/tcp.h",
        "patchSetId": 8
      },
      "lineNbr": 126,
      "author": {
        "id": 1015456
      },
      "writtenOn": "2019-02-28T16:57:01Z",
      "side": 1,
      "message": "Yes, I\u0027ll add that",
      "parentUuid": "aa203448_716f0b84",
      "revId": "5fe9f25a977af4482ce529d7339b03dc156c095c",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3e1ca401_ea6e6b35",
        "filename": "net/ipv4/tcp_output.c",
        "patchSetId": 8
      },
      "lineNbr": 458,
      "author": {
        "id": 1015295
      },
      "writtenOn": "2019-02-28T12:44:44Z",
      "side": 1,
      "message": "should we not move this in a mptcp-specific file? (net/mptcp/options.c)\n\n(I know it is not done like that with smc, it is fine for me to keep it here, I don\u0027t know what the maintainers will want but for mptcp, we already have a dedicated file for the options)",
      "revId": "5fe9f25a977af4482ce529d7339b03dc156c095c",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a38f628a_956949dd",
        "filename": "net/ipv4/tcp_output.c",
        "patchSetId": 8
      },
      "lineNbr": 458,
      "author": {
        "id": 1015456
      },
      "writtenOn": "2019-02-28T16:57:01Z",
      "side": 1,
      "message": "That would also require moving the struct tcp_out_options declaration to a public header",
      "parentUuid": "3e1ca401_ea6e6b35",
      "revId": "5fe9f25a977af4482ce529d7339b03dc156c095c",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "dcc70a8a_ad56ea0e",
        "filename": "net/ipv4/tcp_output.c",
        "patchSetId": 8
      },
      "lineNbr": 458,
      "author": {
        "id": 1015295
      },
      "writtenOn": "2019-02-28T17:53:44Z",
      "side": 1,
      "message": "Oh yes, I missed that. Don\u0027t mind me then, better to stick it here :)",
      "parentUuid": "a38f628a_956949dd",
      "revId": "5fe9f25a977af4482ce529d7339b03dc156c095c",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e410e2de_9a708bf1",
        "filename": "net/ipv4/tcp_output.c",
        "patchSetId": 8
      },
      "lineNbr": 458,
      "author": {
        "id": 1015295
      },
      "writtenOn": "2019-03-04T14:03:51Z",
      "side": 1,
      "message": "now that we have a sub-structure for mptcp in `struct tcp_out_options`, should we not expose this sub-structure (struct mptcp_out_options) and move mptcp_options_write in net/mptcp/options.c? Or at least everything after:\n\n    if (likely(!(OPTION_MPTCP \u0026 opts-\u003eoptions)))\n\nMore a detail but could maybe be cleaner.",
      "parentUuid": "dcc70a8a_ad56ea0e",
      "revId": "5fe9f25a977af4482ce529d7339b03dc156c095c",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f30c9b36_43fc1749",
        "filename": "net/ipv4/tcp_output.c",
        "patchSetId": 8
      },
      "lineNbr": 458,
      "author": {
        "id": 1015766
      },
      "writtenOn": "2019-03-06T03:03:19Z",
      "side": 1,
      "message": "smc_options_write() remains in this file, so it was here to stay with that pattern.",
      "parentUuid": "e410e2de_9a708bf1",
      "revId": "5fe9f25a977af4482ce529d7339b03dc156c095c",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c7b89f55_4ee122e1",
        "filename": "net/ipv4/tcp_output.c",
        "patchSetId": 8
      },
      "lineNbr": 458,
      "author": {
        "id": 1015295
      },
      "writtenOn": "2019-03-06T11:25:41Z",
      "side": 1,
      "message": "I understand but smc options are not as complex as for MPTCP. They don\u0027t even have to store anything specific in tcp_out_options and in MPTCP, we already have mptcp/options.c :)\n\nif a `struct mptcp_out_options` is exposed in `mptcp.h`, we could easily move this function -- that will grow later -- to options.c, no?\n\nhere we would only have to call something like:\n\n    mptcp_options_write(\u003cptr\u003e, \u003coptions\u003e, \u003copts-\u003emptcp\u003e);\n\n(and move all the OPTION_MPTCP_* of course)\n\nIt would look cleaner for us and less \"impact\" in the existing TCP code. But I guess we could also keep this code here. It is just that it might be big to support all cases (and the new RFC?)",
      "parentUuid": "f30c9b36_43fc1749",
      "revId": "5fe9f25a977af4482ce529d7339b03dc156c095c",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    }
  ]
}